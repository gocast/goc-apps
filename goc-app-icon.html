<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="goc-apps-iconset.html">
<link rel="import" href="goc-apps-collection.html">

<!--
`goc-apps`


@demo demo/index.html 
-->

<dom-module id="goc-app-icon">
  <template>
    <style>
      :host {
        background: #eee;
        border-radius: 8px;
        display: inline-block;
        height: 52px;
        position: relative;
        min-width: 52px;
        width: 52px;
      }

      iron-icon {
        bottom: 0;
        color: white;
        height: 34px;
        left: 0;
        margin: auto;
        position: absolute;
        right: 0;
        top: 0;
        width: 34px;
      }

      :host([size="large"]) {
        height: 68px;
        min-width: 68px;
        width: 68px;
      }      

      :host([size="large"]) iron-icon {
        height: 38px;
        width: 38px;
      }
      
      :host([size="small"]) {
        height: 40px;
        min-width: 40px;
        width: 40px;
      }

      :host([size="small"]) iron-icon {
        height: 24px;
        width: 24px;
      }

      :host([size="tiny"]) {
        height: 24px;
        min-width: 24px;
        width: 24px;
        border-radius: 3px;
      }

      :host([size="tiny"]) iron-icon {
        height: 16px;
        width: 16px;
      }
    </style>

    <goc-apps-collection
        app-name="[[appName]]"
        item="{{_appDetail}}"></goc-apps-collection>

    <iron-icon icon="goc-app:[[appName]]"></iron-icon>

  </template>
  <script>

    class GocAppIcon extends Polymer.Element {

      static get is() {return 'goc-app-icon';}

      static get properties() {
        return {

          appName: String,

          size: {
            type: String,
            reflectToAttribute: true
          },

          _appDetail: {
            type: Object,
            observer: '_appDetailChanged'
          }

        };
      }

      _appDetailChanged(_appDetail) {
        if (_appDetail) {
          this.style.background = _appDetail.color;
        }
      }

    }

    customElements.define(GocAppIcon.is, GocAppIcon);
  </script>
</dom-module>
