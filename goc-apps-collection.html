<link rel="import" href="../polymer/polymer-element.html">

<script>
  (function() {

    const apps = [
      {
        "appName": "image",
        "color": "#2196f3",// --paper-blue-500: #2196f3;
        "defaultPlayerStyle": "position: absolute; height: 10%; width: 10%; right: 5%; top: 5%;",
        "homepage": "https://github.com/gocast/app-image",
        "author": "Gocast",
      },
      {
        "appName": "news-marquee",
        "color": "#FF9800", // --paper-orange-500
        "defaultPlayerStyle": "position: absolute; height: 10%; width: 100%; bottom: 0; left: 0",
        "homepage": "https://github.com/gocast/app-news-marquee",
        "author": "Gocast",
        "hasPhysicalWeb": true,
      },
      {
        "appName": "photos",
        "color": "#7CB342", // --paper-green-500
        "iconName": "album",
        "defaultPlayerStyle": "position: absolute; height: 100%; width: 100%; left: 0; top: 0;",
        "homepage": "https://github.com/gocast/app-photos",
        "author": "Gocast",
        "hasPhysicalWeb": true,
      },
      {
        "appName": "date-and-time",
        "color": "#E53935", // --paper-red-600
        "defaultPlayerStyle": "position: absolute; height: 10%; width: 10%; right: 5%; top: 5%;",
        "homepage": "https://github.com/gocast/app-date-and-time",
        "author": "Gocast",
      },
      {
        "appName": "social-media-stream",
        "color": "#E53935", // --paper-red-600
        "defaultPlayerStyle": "position: absolute; height: 10%; width: 10%; right: 5%; top: 5%;",
        "homepage": "https://github.com/gocast/app-social-media-stream",
        "author": "Gocast",
      },
      {
        "appName": "restaurant-menu",
        "color": "#4CAF50", // --paper-green-500
        "defaultPlayerStyle": "position: absolute; height: 100%; width: 100%; left: 0; top: 0;",
        "homepage": "https://github.com/gocast/app-restaurant-menu",
        "hasPhysicalWeb": true,
        "author": "Gocast",
      }
    ];

    const appsInfo = {
      "en": {
        "image": {
          "displayName": "Image",
          "description": "A single image. Useful for logos and background.",
        },
        "news-marquee": {
          "displayName": "News marquee",
          "description": "Display your latest news on a scrolling text."
        },
        "photos": {
          "displayName": "Photos",
          "description": "Create photo albums."
        },
        "date-and-time": {
          "displayName": "Date & Time",
          "description": "Simple clock analog or digital."
        },
        "social-media-stream": {
          "displayName": "Social media stream",
          "description": "Real time filtered feed of posts to your social media hashtags and accounts"
        },
        "restaurant-menu": {
          "displayName": "Restaurant menu",
          "description": "Restaurant menu board with physical web support."
        },
      },
      "es": {
        "image": {
          "displayName": "Imagen",
          "description": "Muestra una sola imagen. Útil para logos y fondos.",
        },
        "news-marquee": {
          "displayName": "Marquesina de noticias",
          "description": "Muestra noticias en movimiento."
        },
        "photos": {
          "displayName": "Fotos",
          "description": "Crea bonitas animaciones con tus fotos."
        },
        "date-and-time": {
          "displayName": "Fecha & Hora",
          "description": "Muestra la fecha o la hora."
        },
        "social-media-stream": {
          "displayName": "Stream de redes sociales",
          "description": "Retransmisión en tiempo real de entradas filtradas de tus redes sociales"
        },
        "restaurant-menu": {
          "displayName": "Menu de restaurantes",
          "description": "Menu de restaurantes"
        },
      }
    };

    class GocAppsCollection extends Polymer.Element {

      static get is() {return 'goc-apps-collection';}

      static get properties() {
        return {

          appName: String,

          item: {
            type: Object,
            notify: true,
            computed: '_computeItem(appName)'
          },

          apps: {
            type: Array,
            notify: true,
            computed: '_computeApps(language)'
          },

          language: {
            type: String,
            value: _ => {
              return 'en';
            }
          }

        };
      }

      find(appName) {
        return this.apps.find(app => {
          return app.appName === appName;
        });
      }

      _computeApps(language) {
        return apps.map(app => {
          const info = appsInfo[language] || appsInfo.en;
          return Object.assign(app, info[app.appName]);
        });
      }

      _computeItem(appName) {
        return this.find(appName);
      }

    }

    customElements.define(GocAppsCollection.is, GocAppsCollection);

  }());
</script>
